<app-header [isModal]="true" [title]="product ? 'Actualizar Produto' : 'Agregar produto'"></app-header>
<ion-content>
    <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">


<!--=================== si existe una imagen =======================0-->

        <ion-avatar *ngIf="form.value.image">
            <img [src]="form.value.image" />
        </ion-avatar>


<!--=================== si no existe una imagen =======================0-->
<ion-icon class="image-icon " *ngIf="!form.value.image" name="image-outline"></ion-icon>
<br>



<!--=================== tamar/ seleccionar imagen =======================0-->

<ion-button (click)="takeImage()" size="small" shape="round">
    Tomar/Seleccionar
</ion-button>











<!--=================== name =======================0-->
    <app-custom-input 
        autocomplete="name" 
        [control]="form.controls.name" 
        type="text"
        label="Nombre">
    </app-custom-input>

        <div class="validators" *ngIf="form.controls.name.errors && form.controls.name.touched">
            <div *ngIf="form.controls.name.errors?.['required']">El nombre es requerido</div>
            <div *ngIf="form.controls.name.errors?. ['minLenght']">El nombre debe tener al menos 4 caracteres</div>
        </div>

        <!--=================== descripcion =======================0-->
    <app-custom-input 
    autocomplete="des" 
    [control]="form.controls.des" 
    type="text"
    label="Descripcion">
</app-custom-input>

    <div class="validators" *ngIf="form.controls.des.errors && form.controls.des.touched">
        <div *ngIf="form.controls.des.errors?.['required']">La descripcion es requerida</div>
        <div *ngIf="form.controls.des.errors?. ['minLenght']">La descripcion tener al menos 4 caracteres</div>
    </div>

            <!--=================== presupuesto =======================0-->
            <app-custom-input 
            autocomplete="pre" 
            [control]="form.controls.pre" 
            type="number"
            label="presupuesto">
        </app-custom-input>
        
            <div class="validators" *ngIf="form.controls.pre.errors && form.controls.pre.touched">
                <div *ngIf="form.controls.pre.errors?.['required']">El presupuesto es requerido</div>
                <div *ngIf="form.controls.pre.errors?. ['min']">El presupuesto La Cantidad minimo debe ser 0</div>
            </div>
        <!--=================== Uni =======================0-->
    <app-custom-input 
    autocomplete="Uni" 
    [control]="form.controls.Uni" 
    type="text"
    label="Unidad">
</app-custom-input>

    <div class="validators" *ngIf="form.controls.Uni.errors && form.controls.Uni.touched">
        <div *ngIf="form.controls.Uni.errors?.['required']">La Unidad/Departamento es requerido</div>
        <div *ngIf="form.controls.Uni.errors?. ['minLenght']">El nombre debe tener al menos 4 caracteres</div>
    </div>

            <!--=================== Cantidad =======================0-->
    <app-custom-input 
    autocomplete="can" 
    [control]="form.controls.can" 
    type="number"
    label="Cantidad">
</app-custom-input>

    <div class="validators" *ngIf="form.controls.can.errors && form.controls.can.touched">
        <div *ngIf="form.controls.can.errors?.['required']">La Cantidad es requerida</div>
        <div *ngIf="form.controls.can.errors?. ['minLenght']">La Cantidad minimo debe ser 0</div>
    </div>

    <!--=================== Precio unitario =======================0-->
    <app-custom-input 
        [control]="form.controls.priceUnit" 
        type="number"
        label="Precio unitario">
    </app-custom-input>

        <div class="validators" *ngIf="form.controls.priceUnit.errors && form.controls.priceUnit.touched">
            <div *ngIf="form.controls.priceUnit.errors?.['required']">El Precio unitariorreo es requerido</div>
            <div *ngIf="form.controls.priceUnit.errors?. ['min']">El Precio unitario minimo debe ser 0</div>
        </div>

        <!--=================== precio =======================0-->
    <app-custom-input 
    [control]="form.controls.price" 
    type="number"
    label="Precio">
</app-custom-input>

    <div class="validators" *ngIf="form.controls.price.errors && form.controls.price.touched">
        <div *ngIf="form.controls.price.errors?.['required']">El Precio es requerido</div>
        <div *ngIf="form.controls.price.errors?. ['min']">El Precio minimo debe ser 0</div>
    </div>

    <!--=================== fecha de adquisicion  =======================0-->
    <app-custom-input 
        autocomplete="date" 
        [control]="form.controls.date" 
        type="text"
        label="Fecha de adquisicion">
    </app-custom-input>

        <div class="validators" *ngIf="form.controls.date.errors && form.controls.date.touched">
            <div *ngIf="form.controls.date.errors?.['required']">La fecha es requerida</div>
            <div *ngIf="form.controls.date.errors?. ['minLenght']">La fecha debe tener al menos 4 caracteres</div>
        </div>


        <!--=================== Proveedor =======================0-->
    <app-custom-input 
    autocomplete="sup" 
    [control]="form.controls.sup" 
    type="text"
    label="Proveedor">
</app-custom-input>

    <div class="validators" *ngIf="form.controls.sup.errors && form.controls.sup.touched">
        <div *ngIf="form.controls.sup.errors?.['required']">El nombre del Proveedor es requerido</div>
        <div *ngIf="form.controls.sup.errors?. ['minLenght']">El nombre del Proveedor debe tener al menos 4 caracteres</div>
    </div>







        <ion-button  mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
            {{product ? 'Actualizar Produto' : 'Agregar produto'}}
            <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
        </ion-button>


            
    </form>
</ion-content>
